---
title: '暑期算法 第五题'
date: 2021-08-13 23:54:06
categories: [算法]
published: true
hideInList: false
feature: 
isTop: false
---
# 题目

给定一个数组 `prices` ，它的第 `i` 个元素 `prices[i]` 表示一支给定股票第 `i` 天的价格。

你只能选择 **某一天** 买入这只股票，并选择在 **未来的某一个不同的日子** 卖出该股票。设计一个算法来计算你所能获取的最大利润。

返回你可以从这笔交易中获取的最大利润。如果你不能获取任何利润，返回 `0` 。

> ```
> 输入：[7,1,5,3,6,4]
> 输出：5
> 解释：在第 2 天（股票价格 = 1）的时候买入，在第 5 天（股票价格 = 6）的时候卖出，最大利润 = 6-1 = 5 。
>      注意利润不能是 7-1 = 6, 因为卖出价格需要大于买入价格；同时，你不能在买入前卖出股票。
> ```

> ```
> 输入：prices = [7,6,4,3,1]
> 输出：0
> 解释：在这种情况下, 没有交易完成, 所以最大利润为 0。
> ```


来源：LeetCodeHOT100-121

# 题解

```javascript
/**
 * @param {number[]} prices
 * @return {number}
 */
var maxProfit = function(prices) {
    let profit = 0 // 初始利润设为0
    let min = prices[0] // 确定一个股票中的最小值
    for(let i = 0; i < prices.length; i++) {
        if(prices[i] < min) {  // 遍历时进行最小值赋值
            min = prices[i]
        }else if(prices[i]  - min > profit){ // 如果出现比最大利润还要大的就进行重新赋值
            profit = prices[i]  - min
        }
    }
    return profit
};
```

# 题析

逆向思维，假设现在要卖出，目前卖出价格是确定的，想要获取最大的利润，买入就必须是从开始到目前的最低价。即每遍历一个价格时，不断比对取最小值作为买入价格，并与假设当前价格卖出能获取的利润取最大值。

# 题外

类似的股价题型有很多，此题是最基础的。当买卖需要手续费、买入有冻结期、开放多次买卖等需求时，就需要动态规划更复杂的算法思想。

